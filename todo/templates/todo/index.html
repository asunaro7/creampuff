<!-- /todo/templates/todo/index.html -->
{% load static %}
<head>
  <title>RPGタスク</title>
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">

  <style>
    html * {
      box-sizing: border-box;       /*内部要素すべてに摘要*/
    }

    h2 {
      color: blue;
      margin-left: 20px;
      border-bottom: 1px dotted #3f5170;
    }
    .todo-gameblock{
      margin: 20px 20px 0 20px;     /*上、右、下、左*/
      width: 100vw;
      height: 50px;
      background-color: #c0c0c0;
    }

    /* 画面幅の100%の幅で画像を表示 */
    .image-vw {
      width : 100vw ;
    }
    .todo-taskblock{
      display: flex;                /*内部要素の横並び*/
      margin: 20px 20px 0 20px;     /*上、右、下、左*/
    }
    .todo-allitem{
      text-align: left;
      border: 1px solid #3f5170;
      width: 50vw;
      margin-right: 20px;
    }
    .todo-item{
      text-align: left;
      border-bottom: 1px dotted #3f5170;
      margin: 10px 10px 0 10px;
    }
    .todo-btn{
      text-align: left;
      border: 1px solid #3f5170;
      width: 50vw;
      height: auto;
      margin-left: 20px;
    }
  </style>

  <script>

  var myWindow,myWindow2,myWindow3;

  function openWinTask() {
    myWindow = window.open("{% url 'todo:new' %}",'_blank');
  }
    function openWinGame() {
    myWindow2 = window.open("", "myWindow2", "top=200,left=200,width=600,height=300");
    myWindow2.document.write("<p>ゲーム</p>");
    myWindow2.document.write("<p>　名前　XXXXX</p>");
    myWindow2.document.write("<p>　HP　　10000</p>");

    myWindow2.document.write("<p>　レベル　30Lv</p>");
    myWindow2.document.write("<p>　武器　武器１</p>");
    myWindow2.document.write("<p>　装備　装備１</p>");
    myWindow2.document.write("<p>　持ち金　1000$</p>");
  }
  function openWinBuki() {
    myWindow3 = window.open("", "myWindow3", "top=200,left=200,width=600,height=300");
    myWindow3.document.write("<p>武器購入</p>");
    myWindow3.document.write("<p>　持ち金 1000$</p>");
    myWindow3.document.write("<p>　武器１  攻撃力  1000  回復力  100　　1000$</p>");
    myWindow3.document.write("<p>　武器２  攻撃力  2000  回復力  200　　2000$</p>");
    myWindow3.document.write("<p>　武器３  攻撃力  3000  回復力  300　　3000$</p>");
  }

  </script>


</head>
   <h2>ゲーム画面</h2>

   {% block contents %}
   {% endblock %}
   <div class="todo-gameblock">
   </div>

<!----------------------------------------<br>-->

    <h2>タスク</h2>

    <div class="todo-taskblock">
        <div class="todo-allitem">

    {% for todos in todo %}
        <div class="todo-item">

        <!--  ****************************************<br>-->
            <a href="{% url 'todo:detail' todos.pk %}"><font size="5"><b>{{ todos.title }}</b></font></a><br>
                 カテゴリー:{{todos.category}}<br>
                 締切日:<span style="color:red">{{ todos.deadline_date}}</span><br>
                 難易度：{{todos.level}}<br>
            <form method="POST" action="{% url 'todo:delete' todos.pk %}">
                {% csrf_token %}
                <form method="get" action="{% url 'todo:delete' todos.pk %}">
                    <input type="submit"
                      value="削除"
                      onclick="return confirm('本当に削除しますか？');"
                    >
                </form>
            </form>
            <form method="POST" action="{% url 'todo:encount' todos.pk %}">
                {% csrf_token %}
                <button type="submit"><span style="color:red">完了</span></button>
            </form>
        <!--  ****************************************<br> -->
         </div>

    {% endfor %}
  </div>

  <div class="todo-btn">
    <button type="button" class="btn" onclick="openWinTask()">タスク管理を登録</button>
    <button type="button" class="btn" onclick="openWinGame()">ゲーム</button>
    <button type="button" class="btn" onclick="openWinBuki()">武器を購入</button>
  </div>
</div>
